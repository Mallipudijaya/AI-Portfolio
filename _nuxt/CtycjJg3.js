const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./_R8UFnVr.js","./B1nZxzFM.js","./entry.C5K2fVHA.css","./C-v3KzvZ.js","./dThntAB7.js"])))=>i.map(i=>d[i]);
import{R as x,l as w,S as L,T,y as j,U as P,x as q,V as I,W as z,i as F,X as K,Y as M,L as g,Z as Q,$ as U,a0 as A,P as H}from"./B1nZxzFM.js";import{u as E,h as C}from"./dThntAB7.js";const N=e=>e==="defer"||e===!1;function k(...e){var v;const t=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(t);let[n,i,a={}]=e;if(typeof n!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof i!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const s=I(),r=i,c=()=>null,f=()=>s.isHydrating?s.payload.data[n]:s.static.data[n];a.server=a.server??!0,a.default=a.default??c,a.getCachedData=a.getCachedData??f,a.lazy=a.lazy??!1,a.immediate=a.immediate??!0,a.deep=a.deep??x.deep,a.dedupe=a.dedupe??"cancel";const y=()=>a.getCachedData(n,s)!=null;if(!s._asyncData[n]||!a.immediate){(v=s.payload._errors)[n]??(v[n]=null);const l=a.deep?w:L;s._asyncData[n]={data:l(a.getCachedData(n,s)??a.default()),pending:w(!y()),error:T(s.payload._errors,n),status:w("idle")}}const o={...s._asyncData[n]};o.refresh=o.execute=(l={})=>{if(s._asyncDataPromises[n]){if(N(l.dedupe??a.dedupe))return s._asyncDataPromises[n];s._asyncDataPromises[n].cancelled=!0}if((l._initial||s.isHydrating&&l._initial!==!1)&&y())return Promise.resolve(a.getCachedData(n,s));o.pending.value=!0,o.status.value="pending";const p=new Promise((u,d)=>{try{u(r(s))}catch(B){d(B)}}).then(async u=>{if(p.cancelled)return s._asyncDataPromises[n];let d=u;a.transform&&(d=await a.transform(u)),a.pick&&(d=G(d,a.pick)),s.payload.data[n]=d,o.data.value=d,o.error.value=null,o.status.value="success"}).catch(u=>{if(p.cancelled)return s._asyncDataPromises[n];o.error.value=z(u),o.data.value=F(a.default()),o.status.value="error"}).finally(()=>{p.cancelled||(o.pending.value=!1,delete s._asyncDataPromises[n])});return s._asyncDataPromises[n]=p,s._asyncDataPromises[n]},o.clear=()=>W(s,n);const m=()=>o.refresh({_initial:!0}),R=a.server!==!1&&s.payload.serverRendered;{const l=K();if(l&&!l._nuxtOnBeforeMountCbs){l._nuxtOnBeforeMountCbs=[];const u=l._nuxtOnBeforeMountCbs;l&&(j(()=>{u.forEach(d=>{d()}),u.splice(0,u.length)}),P(()=>u.splice(0,u.length)))}R&&s.isHydrating&&(o.error.value||y())?(o.pending.value=!1,o.status.value=o.error.value?"error":"success"):l&&(s.payload.serverRendered&&s.isHydrating||a.lazy)&&a.immediate?l._nuxtOnBeforeMountCbs.push(m):a.immediate&&m(),a.watch&&q(a.watch,()=>o.refresh());const p=s.hook("app:data:refresh",async u=>{(!u||u.includes(n))&&await o.refresh()});l&&P(p)}const D=Promise.resolve(s._asyncDataPromises[n]).then(()=>o);return Object.assign(D,o),D}function re(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(t);const[n,i,a={}]=e;return k(n,i,{...a,lazy:!0},null)}function W(e,t){t in e.payload.data&&(e.payload.data[t]=void 0),t in e.payload._errors&&(e.payload._errors[t]=null),e._asyncData[t]&&(e._asyncData[t].data.value=void 0,e._asyncData[t].error.value=null,e._asyncData[t].pending.value=!1,e._asyncData[t].status.value="idle"),t in e._asyncDataPromises&&(e._asyncDataPromises[t].cancelled=!0,e._asyncDataPromises[t]=void 0)}function G(e,t){const n={};for(const i of t)n[i]=e[i];return n}const b=(e,t)=>t.split(".").reduce((n,i)=>n&&n[i],e),_=(e,t)=>Object.keys(e).filter(t).reduce((n,i)=>Object.assign(n,{[i]:e[i]}),{}),ae=e=>t=>e&&e.length?_(t,n=>!e.includes(n)):t,se=e=>t=>Array.isArray(t)?t.map(n=>e(n)):e(t),O=e=>{const t=[],n=[];for(const i of e)["$","_"].includes(i)?t.push(i):n.push(i);return{prefixes:t,properties:n}},ie=(e=[])=>t=>{if(e.length===0||!t)return t;const{prefixes:n,properties:i}=O(e);return _(t,a=>!i.includes(a)&&!n.includes(a[0]))},oe=(e=[])=>t=>{if(e.length===0||!t)return t;const{prefixes:n,properties:i}=O(e);return _(t,a=>i.includes(a)||n.includes(a[0]))},ce=(e,t)=>{const n=new Intl.Collator(t.$locale,{numeric:t.$numeric,caseFirst:t.$caseFirst,sensitivity:t.$sensitivity}),i=Object.keys(t).filter(a=>!a.startsWith("$"));for(const a of i)e=e.sort((s,r)=>{const c=[b(s,a),b(r,a)].map(f=>{if(f!==null)return f instanceof Date?f.toISOString():f});return t[a]===-1&&c.reverse(),n.compare(c[0],c[1])});return e},ue=(e,t="Expected an array")=>{if(!Array.isArray(e))throw new TypeError(t)},h=e=>Array.isArray(e)?e:[void 0,null].includes(e)?[]:[e],V=["sort","where","only","without"];function X(e,t={}){const n={};for(const r of Object.keys(t.initialParams||{}))n[r]=V.includes(r)?h(t.initialParams[r]):t.initialParams[r];const i=(r,c=f=>f)=>(...f)=>(n[r]=c(...f),s),a=r=>{var c;return t.legacy?r!=null&&r.surround?r.surround:r&&(r!=null&&r.dirConfig&&(r.result={_path:(c=r.dirConfig)==null?void 0:c._path,...r.result,_dir:r.dirConfig}),r!=null&&r._path||Array.isArray(r)||!Object.prototype.hasOwnProperty.call(r,"result")?r:r==null?void 0:r.result):r},s={params:()=>({...n,...n.where?{where:[...h(n.where)]}:{},...n.sort?{sort:[...h(n.sort)]}:{}}),only:i("only",h),without:i("without",h),where:i("where",r=>[...h(n.where),...h(r)]),sort:i("sort",r=>[...h(n.sort),...h(r)]),limit:i("limit",r=>parseInt(String(r),10)),skip:i("skip",r=>parseInt(String(r),10)),find:()=>e(s).then(a),findOne:()=>e(i("first")(!0)).then(a),count:()=>e(i("count")(!0)).then(a),locale:r=>s.where({_locale:r}),withSurround:i("surround",(r,c)=>({query:r,...c})),withDirConfig:()=>i("dirConfig")(!0)};return t.legacy&&(s.findSurround=(r,c)=>s.withSurround(r,c).find().then(a)),s}function S(e){return JSON.stringify(e,Y)}function Y(e,t){return t instanceof RegExp?`--REGEX ${t.toString()}`:t}const J=e=>{let t=S(e);return t=typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t),t=t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),(t.match(/.{1,100}/g)||[]).join("/")},$=e=>M(e,g().public.content.api.baseURL),le=()=>{throw console.warn("useContent is only accessible when you are using `documentDriven` mode."),console.warn("Learn more by visiting: https://content.nuxt.com/document-driven"),new Error("useContent is only accessible when you are using `documentDriven` mode.")},Z=()=>{const{experimental:e}=g().public.content;return e.clientDB?!0:E().isEnabled()},ee=()=>async e=>{const{content:t}=g().public,n=e.params(),i=t.experimental.stripQueryParameters?$(`/query/${`${C(n)}.${t.integrity}`}/${J(n)}.json`):$(`/query/${C(n)}.${t.integrity}.json`);if(Z())return(await H(()=>import("./_R8UFnVr.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(r=>r.useContentDatabase())).fetch(e);const a=await $fetch(i,{method:"GET",responseType:"json",params:t.experimental.stripQueryParameters?void 0:{_params:S(n),previewToken:E().getPreviewToken()}});if(typeof a=="string"&&a.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return a};function fe(e,...t){const{content:n}=g().public,i=X(ee(),{initialParams:typeof e!="string"?e:{},legacy:!0});let a;typeof e=="string"&&(a=Q(U(e,...t)));const s=i.params;return i.params=()=>{var c,f,y;const r=s();return a&&(r.where=r.where||[],r.first&&(r.where||[]).length===0?r.where.push({_path:A(a)}):r.where.push({_path:new RegExp(`^${a.replace(/[-[\]{}()*+.,^$\s/]/g,"\\$&")}`)})),(c=r.sort)!=null&&c.length||(r.sort=[{_stem:1,$numeric:!0}]),n.locales.length&&((y=(f=r.where)==null?void 0:f.find(m=>m._locale))!=null&&y._locale||(r.where=r.where||[],r.where.push({_locale:n.defaultLocale}))),r},i}export{re as a,le as b,ue as c,h as d,J as e,ce as f,b as g,se as h,ie as i,S as j,oe as k,X as l,ae as o,fe as q,Z as s,k as u,$ as w};
